{"version":3,"file":"createConnection.e490af00.js","sources":["../../node_modules/@arcgis/core/core/CircularArray.js","../../node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js","../../node_modules/@arcgis/core/layers/graphics/sources/connections/StreamConnection.js","../../node_modules/@arcgis/core/layers/graphics/sources/connections/WebSocketConnection.js","../../node_modules/@arcgis/core/layers/graphics/sources/connections/GeoEventConnection.js","../../node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";class s{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(s){if(0===this.size)return null;for(const e of this._buffer)if(t(e)&&s(e))return e;return null}clear(s){let e=this.dequeue();for(;t(e);)s&&s(e),e=this.dequeue()}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/CircularArray.js\";import{clamp as e}from\"../../../core/mathUtils.js\";import{isNone as s,isSome as i,unwrap as r}from\"../../../core/maybe.js\";const o=\"__esri_stream_id__\",d=\"__esri_timestamp__\",a=1e3;class h{constructor(t,e,s,i,r=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=s,this._purgeOptions=i,this.store=t,this.objectIdField=e,this.purgeInterval=r,this._useGeneratedIds=this.objectIdField===o}add(r){if(this._useGeneratedIds){const t=this._nextId();r.attributes[this.objectIdField]=t,r.objectId=t}else r.objectId=r.attributes[this.objectIdField];if(this._addOrUpdated.set(r.objectId,r),this._maxAge=Math.max(this._maxAge,r.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return s(this._trackIdLessObservations)&&(this._trackIdLessObservations=new t(1e5)),void this._trackIdLessObservations.enqueue(r.objectId);const o=r.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=i(this._purgeOptions)&&null!=this._purgeOptions.maxObservations?this._purgeOptions.maxObservations:a,r=e(s,0,a);this._trackIdToObservations.set(o,new t(r))}const d=this._trackIdToObservations.get(o).enqueue(r.objectId);i(d)&&(this._addOrUpdated.has(d)?this._addOrUpdated.delete(d):this._removed.push(d))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(i(e))for(const o of e){const t=this.store.removeById(o);i(t)&&r.push(t)}if(i(t))for(const i of t)i.attributes[d]=s,this.store.add(i);(t||r)&&this.store.update(t,r)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;i(e)&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=r(s.dequeue());this._removed.push(t),e--}if(i(this._trackIdLessObservations)){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();i(t)&&this._removed.push(t)}}}}_purgeByAge(t){var e;if(!t.age||null==(e=this._timeInfo)||!e.startTimeField)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[this._timeInfo.startTimeField]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[d]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}export{o as DEFAULT_STREAM_ID_FIELD,d as ESRI_TIMESTAMP,h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Evented.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";let t=class extends(e.EventedMixin(s)){onFeature(r){this.emit(\"feature\",r)}};t=r([o(\"esri.layers.graphics.sources.connections.StreamConnection\")],t);const c=t;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import o from\"../../../../core/Logger.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{after as n,createResolver as c}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as i}from\"../../../../core/urlUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getGeometryZScaler as d}from\"../../../../geometry/support/zscale.js\";import h from\"./StreamConnection.js\";const p=o.getLogger(\"esri.layers.graphics.sources.connections.WebSocketConnection\");var u;!function(e){e[e.CONNECTING=0]=\"CONNECTING\",e[e.OPEN=1]=\"OPEN\",e[e.CLOSING=2]=\"CLOSING\",e[e.CLOSED=3]=\"CLOSED\"}(u||(u={}));let m=class extends h{constructor(e){super(),this.errorString=null;const{geometryType:t,spatialReference:o,sourceSpatialReference:r}=e;this._config=e,this._featureZScaler=d(t,r,o),this._open()}async _open(){await this._tryCreateWebSocket(),this.destroyed||await this._handshake()}destroy(){r(this._websocket)&&(this._websocket.onopen=null,this._websocket.onclose=null,this._websocket.onerror=null,this._websocket.onmessage=null,this._websocket.close()),this._websocket=null}get connectionStatus(){if(s(this._websocket))return\"disconnected\";switch(this._websocket.readyState){case u.CONNECTING:case u.OPEN:return\"connected\";case u.CLOSING:case u.CLOSED:return\"disconnected\"}}async _tryCreateWebSocket(e=this._config.source.path,o=1e3,r=0){try{if(this.destroyed)return;const t=i(e,this._config.customParameters);this._websocket=await this._createWebSocket(t),this.notifyChange(\"connectionStatus\")}catch(s){const c=o/1e3;return this._config.maxReconnectionAttempts&&r>=this._config.maxReconnectionAttempts?(p.error(new t(\"websocket-connection\",\"Exceeded maxReconnectionAttempts attempts. No further attempts will be made\")),void this.destroy()):(p.error(new t(\"websocket-connection\",`Failed to connect. Attempting to reconnect in ${c}s`,s)),await n(o),this._tryCreateWebSocket(e,Math.min(1.5*o,1e3*this._config.maxReconnectionInterval),r+1))}}_createWebSocket(e){return new Promise(((t,o)=>{const r=new WebSocket(e);r.onopen=()=>{if(r.onopen=null,this.destroyed)return r.onclose=null,void r.close();r.onclose=e=>this._onClose(e),r.onerror=e=>this._onError(e),r.onmessage=e=>this._onMessage(e),t(r)},r.onclose=e=>{r.onopen=r.onclose=null,o(e)}}))}async _handshake(e=1e4){const o=this._websocket;if(s(o))return;const r=c(),n=o.onmessage,{filter:i,outFields:a,spatialReference:l}=this._config;return r.timeout(e),o.onmessage=e=>{var s;let c=null;try{c=JSON.parse(e.data)}catch(d){}c&&\"object\"==typeof c||(p.error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - malformed message\",e.data)),r.reject(),this.destroy()),(null==(s=c.spatialReference)?void 0:s.wkid)!==(null==l?void 0:l.wkid)&&(p.error(new t(\"websocket-connection\",`Protocol violation. Handshake failed - expected wkid of ${l.wkid}`,e.data)),r.reject(),this.destroy()),\"json\"!==c.format&&(p.error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - format is not set\",e.data)),r.reject(),this.destroy()),i&&c.filter!==i&&p.error(new t(\"websocket-connection\",\"Tried to set filter, but server doesn't support it\")),a&&c.outFields!==a&&p.error(new t(\"websocket-connection\",\"Tried to set outFields, but server doesn't support it\")),o.onmessage=n,r.resolve()},o.send(JSON.stringify({filter:i,outFields:a,format:\"json\",spatialReference:{wkid:l.wkid}})),r.promise}_onMessage(e){try{const o=JSON.parse(e.data);if(\"featureResult\"!==o.type)throw new t(\"websocket-connection\",\"Protocol violation - Expected to find message of type 'featureResult'\",o);for(const e of o.features)r(this._featureZScaler)&&this._featureZScaler(e.geometry),this.onFeature(e)}catch(o){return p.error(new t(\"websocket-connection\",\"Failed to parse message\",o)),void this.destroy()}}_onError(e){const t=\"Encountered an error over WebSocket connection\";this._set(\"errorString\",t),p.error(\"websocket-connection\",t)}_onClose(e){this._websocket=null,this.notifyChange(\"connectionStatus\"),1e3!==e.code&&p.error(\"websocket-connection\",`WebSocket closed unexpectedly with error code ${e.code}`),this.destroyed||this._open()}};e([a()],m.prototype,\"connectionStatus\",null),e([a()],m.prototype,\"errorString\",void 0),m=e([l(\"esri.layers.graphics.sources.connections.WebSocketConnection\")],m);export{u as ReadyState,m as WebSocketConnection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../request.js\";import r from\"../../../../core/Error.js\";import o from\"../../../../core/Logger.js\";import{isSome as s,isNone as i,unwrapOr as n,get as a}from\"../../../../core/maybe.js\";import{createResolver as c}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as u}from\"../../../../core/urlUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WebSocketConnection as d}from\"./WebSocketConnection.js\";import{executeQuery as h}from\"../../../../rest/query/operations/query.js\";import l from\"../../../../rest/support/Query.js\";import{fromJSON as y}from\"../../../../geometry/support/jsonUtils.js\";import m from\"../../../../geometry/SpatialReference.js\";const p=o.getLogger(\"esri.layers.graphics.sources.connections.GeoEventConnection\"),g=1e4,_={maxQueryDepth:5,maxRecordCountFactor:3};let w=class extends d{constructor(e){super({..._,...e})}async _open(){const e=await this._fetchServiceDefinition(this._config.source);e.timeInfo.trackIdField||p.warn(\"GeoEvent service was configured without a TrackIdField. This may result in certain functionality being disabled. The purgeOptions.maxObservations property will have no effect.\");const t=this._fetchWebSocketUrl(e.streamUrls,this._config.spatialReference);this._buddyServicesQuery||(this._buddyServicesQuery=this._queryBuddyServices()),await this._buddyServicesQuery,await this._tryCreateWebSocket(t);const{filter:r,outFields:o}=this._config;this.destroyed||this._setFilter(r,o)}_onMessage(e){let t;try{t=this._enrich(JSON.parse(e.data)),s(this._featureZScaler)&&this._featureZScaler(t.geometry)}catch(o){return void p.error(new r(\"geoevent-connection\",\"Failed to parse message\",o))}this.onFeature(t)}async _fetchServiceDefinition(e){const r={f:\"json\",...this._config.customParameters},o=t(e.path,{query:r,responseType:\"json\"}),s=(await o).data;return this._serviceDefinition=s,s}_fetchWebSocketUrl(e,t){const r=e[0],{urls:o,token:s}=r,i=this._inferWebSocketBaseUrl(o);return u(`${i}/subscribe`,{outSR:\"\"+t.wkid,token:s})}_inferWebSocketBaseUrl(e){if(1===e.length)return e[0];for(const t of e)if(-1!==t.indexOf(\"wss\"))return t;return p.error(new r(\"geoevent-connection\",\"Unable to infer WebSocket url\",e)),null}async _setFilter(e,t){const o=this._websocket;if(i(o)||i(e)&&i(t))return;const s=JSON.stringify({filter:this._serializeFilter(e,t)});let n=!1;const a=c(),u=()=>{n||(this.destroyed||this._websocket!==o||p.error(new r(\"geoevent-connection\",\"Server timed out when setting filter\")),a.reject())},f=e=>{const t=JSON.parse(e.data);t.filter&&(t.error&&(p.error(new r(\"geoevent-connection\",\"Failed to set service filter\",t.error)),this._set(\"errorString\",`Could not set service filter - ${t.error}`),a.reject(t.error)),o.onmessage=this._onMessage.bind(this),n=!0,a.resolve())};return o.onmessage=f,o.send(s),setTimeout(u,g),a.promise}_serializeFilter(e,t){const o={};if(i(e)&&i(t))return o;if(s(e)&&e.geometry)try{const t=y(e.geometry);if(\"extent\"!==t.type)throw new r(`Expected extent but found type ${t.type}`);o.geometry=JSON.stringify(t.shiftCentralMeridian())}catch(n){p.error(new r(\"geoevent-connection\",\"Encountered an error when setting connection geometryDefinition\",n))}return s(e)&&e.where&&\"1 = 1\"!==e.where&&(o.where=e.where),s(t)&&(o.outFields=t.join(\",\")),o}_enrich(e){if(!this._relatedFeatures)return e;const t=this._serviceDefinition.relatedFeatures.joinField,o=e.attributes[t];if(!this._relatedFeatures.has(o))return p.warn(\"geoevent-connection\",\"Feature join failed. Is the join field configured correctly?\",e),e;const{attributes:s,geometry:i}=this._relatedFeatures.get(o);for(const r in s)e.attributes[r]=s[r];return i&&(e.geometry=i),e.geometry||e.centroid||p.error(new r(\"geoevent-connection\",\"Found malformed feature - no geometry found\",e)),e}async _queryBuddyServices(){try{const{relatedFeatures:e,keepLatestArchive:t}=this._serviceDefinition,r=this._queryRelatedFeatures(e),o=this._queryArchive(t);await r;const s=await o;if(!s)return;for(const i of s.features)this.onFeature(this._enrich(i))}catch(e){p.error(new r(\"geoevent-connection\",\"Encountered an error when querying buddy services\",{error:e}))}}async _queryRelatedFeatures(e){if(!e)return;const t=await this._queryBuddy(e.featuresUrl);this._addRelatedFeatures(t)}async _queryArchive(e){if(e)return this._queryBuddy(e.featuresUrl)}async _queryBuddy(e){const t=new((await import(\"../../../FeatureLayer.js\")).default)({url:e}),{capabilities:r}=await t.load(),o=r.query.supportsMaxRecordCountFactor,s=r.query.supportsPagination,i=r.query.supportsCentroid,c=this._config.maxRecordCountFactor,u=t.capabilities.query.maxRecordCount,f=o?u*c:u,d=new l;if(d.outFields=n(this._config.outFields,[\"*\"]),d.where=n(a(this._config.filter,\"where\"),\"1=1\"),d.returnGeometry=!0,d.returnExceededLimitFeatures=!0,d.outSpatialReference=m.fromJSON(this._config.spatialReference),i&&(d.returnCentroid=!0),o&&(d.maxRecordCountFactor=c),s)return d.num=f,t.destroy(),this._queryPages(e,d);const y=await h(e,d,this._config.sourceSpatialReference);return t.destroy(),y.data}async _queryPages(e,t,r=[],o=0){t.start=s(t.num)?o*t.num:null;const{data:i}=await h(e,t,this._config.sourceSpatialReference);return i.exceededTransferLimit&&o<this._config.maxQueryDepth?(i.features.forEach((e=>r.push(e))),this._queryPages(e,t,r,o+1)):(r.forEach((e=>i.features.push(e))),i)}_addRelatedFeatures(e){const t=new Map,r=e.features,o=this._serviceDefinition.relatedFeatures.joinField;for(const s of r){const e=s.attributes[o];t.set(e,s)}this._relatedFeatures=t}};w=e([f(\"esri.layers.graphics.sources.connections.GeoEventConnection\")],w);const F=w;export{F as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"./GeoEventConnection.js\";import{WebSocketConnection as n}from\"./WebSocketConnection.js\";function t(t,o,r,c,i,s,a,m){const p=0===t.path.indexOf(\"wss://\")||0===t.path.indexOf(\"ws://\"),f={source:t,sourceSpatialReference:o,spatialReference:r,geometryType:c,filter:i,maxReconnectionAttempts:s,maxReconnectionInterval:a,customParameters:m};return p?new n(f):new e(f)}export{t as createConnection};\n"],"names":["t","r","s","i","e","o","p","h","d","n","c","a","l","u","y","m","f"],"mappings":"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"}