{"version":3,"file":"ExportWMSImageParameters.920917d8.js","sources":["../../node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";const a={visible:\"visibleSublayers\"};let l=class extends(s(r)){constructor(e){super(e),this.scale=0}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(a[e.propertyName])))],\"layer\"))}get layers(){const{visibleSublayers:e}=this;return e.filter((e=>e.name)).map((e=>e.name)).join(\",\")}get version(){this.commitProperty(\"layers\");const e=this.layer;return e&&e.commitProperty(\"imageTransparency\"),(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=null==e?void 0:e.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.unshift(e))};return null==s||s.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:t,version:o,layers:r}}};e([t()],l.prototype,\"layer\",null),e([t({readOnly:!0})],l.prototype,\"layers\",null),e([t({type:Number})],l.prototype,\"scale\",void 0),e([t({readOnly:!0})],l.prototype,\"version\",null),e([t({readOnly:!0})],l.prototype,\"visibleSublayers\",null),l=e([o(\"esri.layers.support.ExportWMSImageParameters\")],l);export{l as ExportWMSImageParameters};\n"],"names":["s","r","t","o"],"mappings":"iFAIuZ,KAAM,GAAE,CAAC,QAAQ,oBAAuB,GAAC,GAAE,aAAcA,GAAEC,EAAG,CAAC,YAAY,EAAE,CAAC,MAAM,GAAG,KAAK,MAAM,KAAM,OAAM,EAAE,CAAC,KAAK,KAAK,WAAW,GAAI,MAAK,KAAK,QAAQ,GAAG,KAAK,QAAQ,OAAO,SAAS,GAAG,KAAK,QAAQ,IAAI,CAAC,EAAE,UAAU,GAAG,SAAU,IAAI,KAAK,aAAa,qBAAsB,EAAE,GAAG,sBAAuB,GAAG,KAAK,aAAa,EAAE,EAAE,iBAAkB,aAAc,SAAQ,CAAC,KAAK,CAAC,iBAAiB,GAAG,KAAK,MAAO,GAAE,OAAQ,GAAG,EAAE,MAAO,IAAK,GAAG,EAAE,MAAO,KAAK,QAAS,UAAS,CAAC,KAAK,eAAe,UAAU,KAAM,GAAE,KAAK,MAAM,MAAO,IAAG,EAAE,eAAe,qBAAsB,MAAK,KAAK,YAAY,GAAG,KAAM,mBAAkB,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,GAAG,KAAK,EAAE,AAAM,GAAN,KAAQ,OAAO,EAAE,UAAU,EAAE,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,GAAG,EAAE,GAAI,CAAI,IAAJ,GAAQ,CAAI,IAAJ,GAAO,GAAG,IAAK,CAAI,IAAJ,GAAO,GAAG,KAAM,GAAE,EAAE,QAAQ,GAAG,EAAE,QAAQ,KAAK,MAAO,AAAM,IAAN,MAAS,EAAE,QAAQ,GAAG,EAAE,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,GAAG,KAAK,CAAC,YAAY,EAAE,kBAAkB,EAAE,QAAQ,GAAG,EAAE,MAAM,CAAC,OAAO,EAAE,QAAQ,SAAS,QAAQ,MAAM,OAAO,GAAG,YAAY,EAAE,QAAQ,EAAE,OAAO,KAAK,EAAE,CAACC,KAAK,EAAE,UAAU,QAAQ,MAAM,EAAE,CAACA,EAAE,CAAC,SAAS,MAAM,EAAE,UAAU,SAAS,MAAM,EAAE,CAACA,EAAE,CAAC,KAAK,UAAU,EAAE,UAAU,QAAQ,QAAQ,EAAE,CAACA,EAAE,CAAC,SAAS,MAAM,EAAE,UAAU,UAAU,MAAM,EAAE,CAACA,EAAE,CAAC,SAAS,MAAM,EAAE,UAAU,mBAAmB,MAAM,EAAE,EAAE,CAACC,EAAE,iDAAiD"}