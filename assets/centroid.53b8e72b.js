import{U as p}from"./externalRenderers.e9b2a64d.js";function d(n,r){return n?r?4:3:r?3:2}function j(n,r,e,l,s){if(p(r)||!r.lengths.length)return null;const u=(s==null?void 0:s.originPosition)==="upperLeft"?-1:1;n.lengths.length&&(n.lengths.length=0),n.coords.length&&(n.coords.length=0);const t=n.coords,N=[],o=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:i,coords:E}=r,F=d(e,l);let b=0;for(const I of i){const c=A(o,E,b,I,e,l,u);c&&N.push(c),b+=I*F}if(N.sort((I,c)=>{let T=u*I[2]-u*c[2];return T===0&&e&&(T=I[4]-c[4]),T}),N.length){let I=6*N[0][2];t[0]=N[0][0]/I,t[1]=N[0][1]/I,e&&(I=6*N[0][4],t[2]=I!==0?N[0][3]/I:0),(t[0]<o[0]||t[0]>o[1]||t[1]<o[2]||t[1]>o[3]||e&&(t[2]<o[4]||t[2]>o[5]))&&(t.length=0)}if(!t.length){const I=r.lengths[0]?G(E,0,i[0],e,l):null;if(!I)return null;t[0]=I[0],t[1]=I[1],e&&I.length>2&&(t[2]=I[2])}return n}function A(n,r,e,l,s,u,t=1){const N=d(s,u);let o=e,i=e+N,E=0,F=0,b=0,I=0,c=0;for(let _=0,V=l-1;_<V;_++,o+=N,i+=N){const h=r[o],m=r[o+1],f=r[o+2],g=r[i],P=r[i+1],a=r[i+2];let Y=h*P-g*m;I+=Y,E+=(h+g)*Y,F+=(m+P)*Y,s&&(Y=h*a-g*f,b+=(f+a)*Y,c+=Y),h<n[0]&&(n[0]=h),h>n[1]&&(n[1]=h),m<n[2]&&(n[2]=m),m>n[3]&&(n[3]=m),s&&(f<n[4]&&(n[4]=f),f>n[5]&&(n[5]=f))}if(I*t>0&&(I*=-1),c*t>0&&(c*=-1),!I)return null;const T=[E,F,.5*I];return s&&(T[3]=b,T[4]=.5*c),T}function G(n,r,e,l,s){const u=d(l,s);let t=r,N=r+u,o=0,i=0,E=0,F=0;for(let b=0,I=e-1;b<I;b++,t+=u,N+=u){const c=n[t],T=n[t+1],_=n[t+2],V=n[N],h=n[N+1],m=n[N+2],f=l?S(c,T,_,V,h,m):O(c,T,V,h);if(f)if(o+=f,l){const g=x(c,T,_,V,h,m);i+=f*g[0],E+=f*g[1],F+=f*g[2]}else{const g=q(c,T,V,h);i+=f*g[0],E+=f*g[1]}}return o>0?l?[i/o,E/o,F/o]:[i/o,E/o]:e>0?l?[n[r],n[r+1],n[r+2]]:[n[r],n[r+1]]:null}function O(n,r,e,l){const s=e-n,u=l-r;return Math.sqrt(s*s+u*u)}function S(n,r,e,l,s,u){const t=l-n,N=s-r,o=u-e;return Math.sqrt(t*t+N*N+o*o)}function q(n,r,e,l){return[n+.5*(e-n),r+.5*(l-r)]}function x(n,r,e,l,s,u){return[n+.5*(l-n),r+.5*(s-r),e+.5*(u-e)]}export{j as e};
//# sourceMappingURL=centroid.53b8e72b.js.map
