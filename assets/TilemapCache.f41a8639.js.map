{"version":3,"file":"TilemapCache.f41a8639.js","sources":["../../node_modules/@arcgis/core/layers/support/serviceTileInfoProperty.js","../../node_modules/@arcgis/core/layers/support/Tilemap.js","../../node_modules/@arcgis/core/layers/support/TilemapCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"./TileInfo.js\";const r={type:e,json:{origins:{service:{read:{source:[\"tileInfo\",\"minScale\",\"maxScale\",\"minLOD\",\"maxLOD\"],reader:n}}}}};function n(r,n,l,o){if(!r)return null;const{minScale:i,maxScale:t,minLOD:m,maxLOD:s}=n;if(null!=m&&null!=s)return o&&o.ignoreMinMaxLOD?e.fromJSON(r):e.fromJSON({...r,lods:r.lods.filter((({level:e})=>null!=e&&e>=m&&e<=s))});if(0!==i&&0!==t){const n=e=>Math.round(1e4*e)/1e4,l=i?n(i):1/0,o=t?n(t):-1/0;return e.fromJSON({...r,lods:r.lods.filter((e=>{const r=n(e.scale);return r<=l&&r>=o}))})}return e.fromJSON(r)}export{n as readServiceTileInfo,r as serviceTileInfoProperty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let s=0;s<t.length;s++){const i=s%8;t[s]?(l=!1,n[r]|=1<<i):a=!1,7===i&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(a,o){const r=a.service.request||t,{row:s,col:h,width:c,height:m}=a,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(t){l.validateJSON(t);const i=new l;return i.location=Object.freeze(a(t.location)),i._updateFromData(t.data),Object.freeze(i)}static validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{l as Tilemap,l as default,o as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Error.js\";import{HandleOwnerMixin as l}from\"../../core/HandleOwner.js\";import s from\"../../core/Logger.js\";import a from\"../../core/LRUCache.js\";import o from\"../../core/PooledArray.js\";import{onAbort as n,isAbortError as c,isAborted as h,createAbortError as p}from\"../../core/promiseUtils.js\";import{waitTicks as m}from\"../../core/scheduling.js\";import{objectToQuery as u}from\"../../core/urlUtils.js\";import{init as f}from\"../../core/watchUtils.js\";import{property as v}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{cast as y}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as b}from\"../../core/accessorSupport/decorators/subclass.js\";import{tilemapDefinitionId as d,Tilemap as _}from\"./Tilemap.js\";var g;const w=s.getLogger(\"esri.layers.support.TilemapCache\");let T=g=class extends(l(i)){constructor(e){super(e),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new a(this.cacheByteSize),this.handles.add([this.watch([\"layer.parsedUrl\",\"layer.tileServers?\",\"layer.apiKey?\",\"layer.customParameters?\"],(()=>this._initializeTilemapDefinition())),f(this,\"layer.tileInfo.lods\",(e=>this._initializeAvailableLevels(e)),!0)]),this._initializeTilemapDefinition()}castLevels(e){return e<=2?(w.error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,l){if(!this._availableLevels[e])return Promise.reject(new r(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const s=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,s);if(a)return Promise.resolve(a);const o=l&&l.signal;return l={...l,signal:null},new Promise(((e,t)=>{n(o,(()=>t(p())));const i=d(s);let r=this._pendingTilemapRequests[i];if(!r){r=_.fromDefinition(s,l).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=r,r.then(e,e)}r.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,l){return this._availableLevels[e]?this.fetchTilemap(e,t,i,l).catch((e=>e)).then((l=>{if(l instanceof _){const s=l.getAvailability(t,i);return\"unavailable\"===s?Promise.reject(new r(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):s}if(c(l))throw l;return\"unknown\"})):Promise.reject(new r(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,r,l){r.level=e,r.row=t,r.col=i;const s=this.layer.tileInfo;s.updateTileInfo(r);const a=this.fetchAvailability(e,t,i,l).catch((e=>{if(c(e))throw e;if(s.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,l,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,l,s){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this.handles.has(a))return;const o=new AbortController;s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this.handles.add(c,a),await m(10,o.signal).catch((()=>{})),n||(n=!0,this.handles.remove(a)),h(o))return;const p={id:e,level:t,row:i,col:r},u={...l,signal:o.signal},f=this.layer.tileInfo;for(let h=0;g._prefetches.length<g._maxPrefetch&&f.upsampleTile(p);++h){const e=this.fetchAvailability(p.level,p.row,p.col,u);g._prefetches.push(e);const t=()=>{g._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){var e;if(!this.layer.parsedUrl)return;const{parsedUrl:t,apiKey:i,customParameters:r}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:t.path,query:u({...t.query,...r,token:null!=i?i:null==(e=t.query)?void 0:e.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const l=d(r);return this._tilemapCache.get(l)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};T._maxPrefetch=4,T._prefetches=new o({initialSize:g._maxPrefetch}),e([v({constructOnly:!0,type:Number})],T.prototype,\"levels\",void 0),e([y(\"levels\")],T.prototype,\"castLevels\",null),e([v({readOnly:!0,type:Number})],T.prototype,\"size\",null),e([v({constructOnly:!0,type:Number})],T.prototype,\"cacheByteSize\",void 0),e([v({constructOnly:!0})],T.prototype,\"layer\",void 0),e([v({constructOnly:!0})],T.prototype,\"request\",void 0),T=g=e([b(\"esri.layers.support.TilemapCache\")],T);export{T as TilemapCache};\n"],"names":["e","n","t","s","i","a","l","f","r","o","p","d","_","c","m","h","u","v","y","b"],"mappings":"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"}