{"version":3,"file":"RouteTask.42ae8563.js","sources":["../../node_modules/@arcgis/core/rest/route.js","../../node_modules/@arcgis/core/tasks/RouteTask.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import{createQueryParamsHelper as r}from\"../core/queryUtils.js\";import{normalizeCentralMeridian as t}from\"../geometry/support/normalizeUtils.js\";import{collectGeometries as s,isInputGeometryZAware as i,fetchServiceDescription as a,dropZValuesOffInputGeometry as o,handleSolveResponse as n}from\"./networkService.js\";import{parseUrl as u}from\"./utils.js\";const p=r({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});async function l(r,l,m){const c=[],f=[],y={},B={},b=u(r),{path:g}=b;l.stops&&l.stops.features&&s(l.stops.features,f,\"stops.features\",y),l.pointBarriers&&l.pointBarriers.features&&s(l.pointBarriers.features,f,\"pointBarriers.features\",y),l.polylineBarriers&&l.polylineBarriers.features&&s(l.polylineBarriers.features,f,\"polylineBarriers.features\",y),l.polygonBarriers&&l.polygonBarriers.features&&s(l.polygonBarriers.features,f,\"polygonBarriers.features\",y);const A=await t(f);for(const e in y){const r=y[e];c.push(e),B[e]=A.slice(r[0],r[1])}if(i(B,c)){let e=null;try{e=await a(g,l.apiKey,m)}catch{}e&&!e.hasZ&&o(B,c)}for(const e in B)B[e].forEach(((r,t)=>{l.get(e)[t].geometry=r}));const d={...m,query:{...b.query,...p.toQueryParams(l),f:\"json\"}},h=g.endsWith(\"/solve\")?g:`${g}/solve`,j=await e(h,d);return n(j)}export{l as solve};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/set.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import{solve as o}from\"../rest/route.js\";import t from\"./Task.js\";let e=class extends t{constructor(s){super(s)}solve(s,r){return o(this.url,s,r)}};e=s([r(\"esri.tasks.RouteTask\")],e);const c=e;export{c as default};\n"],"names":["r","f","u","s","t","i","a","o","d","e","n"],"mappings":"2nBAI8X,KAAM,GAAEA,EAAE,CAAC,qBAAqB,CAAC,KAAK,4BAA4B,yBAAyB,GAAG,wBAAwB,CAAC,KAAK,+BAA+B,mBAAmB,CAAC,KAAK,0BAA0B,oBAAoB,CAAC,KAAK,QAAQ,OAAO,GAAG,EAAE,oBAAoB,MAAM,cAAc,CAAC,KAAK,YAAY,iBAAiB,GAAG,gBAAgB,GAAG,sBAAsB,CAAC,KAAK,6BAA6B,MAAM,GAAG,WAAW,KAAK,iBAAiB,EAAE,EAAE,EAAE,CAAC,KAAM,GAAE,GAAGC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAEC,EAAE,GAAG,CAAC,KAAK,GAAG,EAAE,EAAE,OAAO,EAAE,MAAM,UAAUC,EAAE,EAAE,MAAM,SAASF,EAAE,iBAAiB,GAAG,EAAE,eAAe,EAAE,cAAc,UAAUE,EAAE,EAAE,cAAc,SAASF,EAAE,yBAAyB,GAAG,EAAE,kBAAkB,EAAE,iBAAiB,UAAUE,EAAE,EAAE,iBAAiB,SAASF,EAAE,4BAA4B,GAAG,EAAE,iBAAiB,EAAE,gBAAgB,UAAUE,EAAE,EAAE,gBAAgB,SAASF,EAAE,2BAA2B,GAAG,KAAM,GAAE,KAAMG,GAAEH,GAAG,SAAU,KAAK,GAAE,CAAC,KAAM,GAAE,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,GAAGI,EAAE,EAAE,GAAG,CAAC,GAAI,GAAE,KAAK,GAAG,CAAC,EAAE,KAAMC,GAAE,EAAE,EAAE,OAAO,QAAG,EAAO,GAAG,CAAC,EAAE,MAAMC,EAAE,EAAE,GAAG,SAAU,KAAK,GAAE,EAAE,GAAG,QAAS,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,GAAG,GAAG,SAAS,IAAK,KAAMC,GAAE,OAAI,GAAJ,CAAM,MAAM,SAAI,EAAE,OAAS,EAAE,cAAc,IAA/B,CAAkC,EAAE,WAAS,EAAE,EAAE,SAAS,UAAU,EAAE,GAAG,UAAU,EAAE,KAAMC,GAAE,EAAED,GAAG,MAAOE,GAAE,GCA1vC,GAAI,GAAE,aAAcN,EAAC,CAAC,YAAY,EAAE,CAAC,MAAM,GAAG,MAAM,EAAE,EAAE,CAAC,MAAOG,GAAE,KAAK,IAAI,EAAE,KAAK,EAAEJ,EAAE,CAACH,EAAE,yBAAyB,GAAQ,KAAC,GAAE"}