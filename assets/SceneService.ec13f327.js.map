{"version":3,"file":"SceneService.ec13f327.js","sources":["../../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../../node_modules/@arcgis/core/webdoc/support/saveUtils.js","../../node_modules/@arcgis/core/layers/mixins/SceneService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as i}from\"../multiOriginJSONSupportUtils.js\";function r(r){r&&r.writtenProperties&&r.writtenProperties.forEach((r=>{const t=r.target;r.newOrigin&&r.oldOrigin!==r.newOrigin&&i(t)&&t.updateOrigin(r.propName,r.newOrigin)}))}export{r as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../core/asyncUtils.js\";import e from\"../../core/Error.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(r,a,u){if(!a||!a.resources)return;const h=a.portalItem===r.portalItem?new Set(r.paths):new Set;r.paths.length=0,r.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((e=>{h.delete(e),r.paths.push(e)}));for(const e of a.resources.toUpdate)if(h.delete(e.resource.path),i.has(e.resource.path)||f.has(e.resource.path)){const{resource:o,content:t,finish:a,error:p}=e,h=c(o,s());r.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else r.paths.push(e.resource.path),m.push(p(e,u)),f.add(e.resource.path);for(const e of a.resources.toAdd)m.push(n(e,u)),r.paths.push(e.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(e,o){const t=await r(e.resource.portalItem.addResource(e.resource,e.content,o));if(!0!==t.ok)throw e.error&&e.error(t.error),t.error;e.finish&&e.finish(e.resource)}async function p(e,o){const t=await r(e.resource.update(e.content,o));if(!0!==t.ok)throw e.error(t.error),t.error;e.finish(e.resource)}export{a as saveResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import\"../../core/has.js\";import i from\"../../core/Logger.js\";import{isSome as o}from\"../../core/maybe.js\";import{debounce as s}from\"../../core/promiseUtils.js\";import{urlToObject as a}from\"../../core/urlUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as d}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as c}from\"../../core/accessorSupport/originUtils.js\";import u from\"../../geometry/Extent.js\";import m from\"../../geometry/HeightModelInfo.js\";import y from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as f,cleanTitle as v,sanitizeUrlWithLayerId as g,writeUrlWithLayerId as S}from\"../support/arcgisLayerUrl.js\";import{id as w,url as x}from\"../support/commonProperties.js\";import{fetchIndexInfo as I}from\"../support/I3SIndexInfo.js\";import b from\"../../portal/Portal.js\";import j from\"../../portal/PortalItem.js\";import{saveResources as _}from\"../../webdoc/support/saveUtils.js\";const R=i.getLogger(\"esri.layers.mixins.SceneService\"),N=i=>{let N=class extends i{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=s((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return y.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,i=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=i?new y(i):null}}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const i=null==e.spatialReference?{...e,spatialReference:this._readSpatialReference(t)}:e;return u.fromJSON(i,r)}const i=t.store,o=this._readSpatialReference(t);return null==o||null==i||null==i.extent||!Array.isArray(i.extent)||i.extent.some((e=>e<U))?null:new u({xmin:i.extent[0],ymin:i.extent[1],xmax:i.extent[2],ymax:i.extent[3],spatialReference:o})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,i=null!=r.version?r.version.toString():\"\";return this.parseVersionString(i)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return h(this.url,t.name);let i=t.name;if(!i&&this.url){const e=f(this.url);o(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(i=r+\" - \"+i),v(i)}set url(e){const t=g({layer:this,url:e,nonStandardUrlAllowed:!1,logger:R});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,i){S(this,e,\"layers\",t,i)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=a(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=I(this.parsedUrl.path,this.rootNode,e,this.apiKey,R,t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===(null==e?void 0:e.type)){var t,i;const o=e.rootIndex%e.pageSize,s=null==(t=e.rootPage)||null==(i=t.nodes)?void 0:i[o];if(null==s||null==s.obb||null==s.obb.center||null==s.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(s.obb.center[0]<U||null==this.fullExtent||this.fullExtent.hasZ)return;const a=s.obb.halfSize,n=s.obb.center[2],l=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);this.fullExtent.zmin=n-l,this.fullExtent.zmax=n+l}else if(\"node\"===(null==e?void 0:e.type)){var o;const t=null==(o=e.rootNode)?void 0:o.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<U)return;const r=t[2],i=t[3];this.fullExtent.zmin=r-i,this.fullExtent.zmax=r+i}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));let i=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(i=!0),i)return this.read(r.data,{origin:\"service\",url:this.parsedUrl}),this._fetchVoxelServiceLayer();const o=r.data;this.read(o,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(o)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl.path+\"/layer\",{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const i=t.getTypeKeywords();for(const o of i)e.typeKeywords.push(o);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const i={...E,...t};let o=j.from(e);o||(R.error(\"_saveAs(): requires a portal item parameter\"),await Promise.reject(new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const s=o.portal||b.getDefault();await this._ensureLoadBeforeSave(),o.type=O,o.portal=s;const a={origin:\"portal-item\",url:null,messages:[],portal:s,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations),await this._validateAgainstJSONSchema(n,a,i),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,i,1),await s._signIn(),await s.user.addItem({item:o,folder:i&&i.folder,data:n}),await _(this.resourceReferences,a,null),this.portalItem=o,c(a),a.portalItem=o,o}async _save(e){const t={...E,...e};this.portalItem||(R.error(\"_save(): requires the .portalItem property to be set\"),await Promise.reject(new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==O&&(R.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+O),await Promise.reject(new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${O}\"`))),await this._ensureLoadBeforeSave();const i={origin:\"portal-item\",url:this.portalItem.itemUrl&&a(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||b.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write({},i)]};return await Promise.all(i.resources.pendingOperations),await this._validateAgainstJSONSchema(o,i,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:o}),await _(this.resourceReferences,i,null),c(i),this.portalItem}async _validateAgainstJSONSchema(e,t,i){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new r(e.name,e.message,e.details)));if(i&&i.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),i.validationOptions.enabled||T){const t=(await import(\"../support/schemaValidator.js\")).validate(e,i.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(R.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===i.validationOptions.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e))).concat(o);throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new r(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([n(w)],N.prototype,\"id\",void 0),e([n({type:y})],N.prototype,\"spatialReference\",void 0),e([l(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],N.prototype,\"readSpatialReference\",null),e([n({type:u})],N.prototype,\"fullExtent\",void 0),e([l(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],N.prototype,\"readFullExtent\",null),e([n({readOnly:!0,type:m})],N.prototype,\"heightModelInfo\",void 0),e([n({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],N.prototype,\"minScale\",void 0),e([n({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],N.prototype,\"maxScale\",void 0),e([n({readOnly:!0})],N.prototype,\"version\",void 0),e([l(\"version\",[\"store.version\"])],N.prototype,\"readVersion\",null),e([n({type:String,json:{read:{source:\"copyrightText\"}}})],N.prototype,\"copyright\",void 0),e([n({type:String,json:{read:!1}})],N.prototype,\"sublayerTitleMode\",void 0),e([n({type:String})],N.prototype,\"title\",void 0),e([l(\"portal-item\",\"title\")],N.prototype,\"readTitlePortalItem\",null),e([l(\"service\",\"title\",[\"name\"])],N.prototype,\"readTitleService\",null),e([n({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],N.prototype,\"layerId\",void 0),e([n(x)],N.prototype,\"url\",null),e([d(\"url\")],N.prototype,\"writeUrl\",null),e([n()],N.prototype,\"parsedUrl\",null),e([n({readOnly:!0})],N.prototype,\"store\",void 0),e([n({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],N.prototype,\"rootNode\",void 0),N=e([p(\"esri.layers.mixins.SceneService\")],N),N},U=-1e38,T=!1,O=\"Scene Service\",E={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};export{O as SCENE_SERVICE_ITEM_TYPE,N as SceneService};\n"],"names":["h","t","c","s","o","e","r","i","y","u","f","v","g","S","a","I","j","b","_","n","w","l","m","x","d","p"],"mappings":"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"}