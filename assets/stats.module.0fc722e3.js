import{O as P,w,x as S}from"./three.module.3b505d30.js";class H{constructor(){this.resources=new Set}track(e){if(!e)return e;if(Array.isArray(e))return e.forEach(n=>this.track(n)),e;if((e.dispose||e instanceof P)&&this.resources.add(e),e instanceof P)this.track(e.geometry),this.track(e.material),this.track(e.children);else if(e instanceof w){for(const n of Object.values(e))n instanceof S&&this.track(n);if(e.uniforms){for(const n of Object.values(e.uniforms))if(n){const r=n.value;(r instanceof S||Array.isArray(r))&&this.track(r)}}}return e}untrack(e){this.resources.delete(e)}dispose(){for(const e of this.resources)e instanceof P&&e.parent&&e.parent.remove(e),e.dispose&&e.dispose();this.resources.clear()}}var v=function(){var c=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(i){i.preventDefault(),r(++c%e.children.length)},!1);function n(i){return e.appendChild(i.dom),i}function r(i){for(var l=0;l<e.children.length;l++)e.children[l].style.display=l===i?"block":"none";c=i}var o=(performance||Date).now(),f=o,t=0,m=n(new v.Panel("FPS","#0ff","#002")),x=n(new v.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=n(new v.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:n,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){t++;var i=(performance||Date).now();if(x.update(i-o,200),i>=f+1e3&&(m.update(t*1e3/(i-f),100),f=i,t=0,u)){var l=performance.memory;u.update(l.usedJSHeapSize/1048576,l.jsHeapSizeLimit/1048576)}return i},update:function(){o=this.end()},domElement:e,setMode:r}};v.Panel=function(c,e,n){var r=1/0,o=0,f=Math.round,t=f(window.devicePixelRatio||1),m=80*t,x=48*t,u=3*t,i=2*t,l=3*t,s=15*t,d=74*t,p=30*t,h=document.createElement("canvas");h.width=m,h.height=x,h.style.cssText="width:80px;height:48px";var a=h.getContext("2d");return a.font="bold "+9*t+"px Helvetica,Arial,sans-serif",a.textBaseline="top",a.fillStyle=n,a.fillRect(0,0,m,x),a.fillStyle=e,a.fillText(c,u,i),a.fillRect(l,s,d,p),a.fillStyle=n,a.globalAlpha=.9,a.fillRect(l,s,d,p),{dom:h,update:function(y,T){r=Math.min(r,y),o=Math.max(o,y),a.fillStyle=n,a.globalAlpha=1,a.fillRect(0,0,m,s),a.fillStyle=e,a.fillText(f(y)+" "+c+" ("+f(r)+"-"+f(o)+")",u,i),a.drawImage(h,l+t,s,d-t,p,l,s,d-t,p),a.fillRect(l+d-t,s,t,p),a.fillStyle=n,a.globalAlpha=.9,a.fillRect(l+d-t,s,t,f((1-y/T)*p))}}};var A=v;export{H as R,A as S};
//# sourceMappingURL=stats.module.0fc722e3.js.map
