{"version":3,"file":"I3SIndexInfo.becbd491.js","sources":["../../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n"],"names":["s","e","o"],"mappings":"kEAIgH,iBAAiB,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAE,CAAC,GAAI,GAAE,KAAK,GAAG,EAAEA,GAAG,CAAC,KAAM,GAAE,GAAG,eAAe,EAAE,EAAE,KAAK,MAAMA,EAAE,UAAUA,EAAE,cAAc,GAAG,CAAC,MAAM,CAAC,KAAK,OAAO,SAAU,MAAMC,GAAE,EAAE,CAAC,MAAM,CAAC,EAAE,OAAO,MAAM,GAAG,aAAa,OAAO,OAAO,KAAK,KAAK,UAAUD,EAAE,UAAU,SAASA,EAAE,aAAa,UAAUA,EAAE,uBAAuB,UAAU,SAAS,EAAN,CAAS,EAAE,IAAI,EAAE,KAAK,oBAAoB,iEAAiE,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,EAAE,MAAO,MAAK,KAAM,GAAE,GAAG,WAAW,EAAE,EAAG,IAAG,EAAE,MAAM,KAAK,OAAO,GAAG,CAAC,MAAM,CAAC,KAAK,OAAO,SAAU,MAAMC,GAAE,EAAE,CAAC,MAAM,CAAC,EAAE,OAAO,MAAM,GAAG,aAAa,OAAO,OAAO,KAAK,KAAK,UAAU,SAAS,EAAN,CAAS,KAAM,IAAIC,GAAE,iCAAiC,qBAAqB,CAAC,UAAU,EAAE,UAAU,EAAE,IAAI"}