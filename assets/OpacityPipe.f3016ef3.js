import{reactive as p,ref as T,onMounted as g,openBlock as j,createElementBlock as C}from"vue";import"./dat.gui.module.7cb2f571.js";import{m as P,n as D,T as M,R as x,o as w,c as k,V as R}from"./three.module.3b505d30.js";import{t as B}from"./threeUniversal.9ce15fef.js";import{R as S}from"./stats.module.0fc722e3.js";import{B as O}from"./base3D.6463c8aa.js";import{_ as F}from"./index.f0707c98.js";import"./OrbitControls.5e199169.js";import"./vendor.c70270c6.js";const I={setup(L){p({}),p({});const m=T(null),d=[[-80,-20,0],[-70,20,0],[0,0,0],[70,30,0],[20,40,0]];let t;const u=new S,a=u.track.bind(u);let i=p({base3D:{}});g(()=>{h(),y(),l()});function h(){i.base3D=new O(m.value),B.addFloor(i.base3D.scene)}function l(e){e*=.001,t.offset.x=-(e*1)%1,requestAnimationFrame(l)}function v(){const e={points:d,color:4491519,radius:3,opacity:.1},r={points:d,texture:"images/allow2.png",radius:1.5},{texture:n,mesh:o}=f(e),{texture:s,mesh:c}=f(r);return t=s,i.base3D.scene.add(a(o)),i.base3D.scene.add(a(c)),{tubeTexture0:n,tubeTexture1:s}}function f(e){const r=b(e.points),n=a(new D(r,100,e.radius,15,!1)),o=new M;let s;e.texture!==void 0?(t=o.load(e.texture),t.wrapS=x,t.wrapT=x,t.repeat.set(10,1),s=a(new w({map:t,transparent:!0,depthTest:!1}))):s=a(new w({color:e.color,transparent:!0,opacity:e.opacity,depthWrite:!1}));const c=a(new k(n,s));return c.rotation.x=Math.PI*.5,{texture:t,mesh:c}}function b(e){return e=e.map(r=>new R(...r)),new P(e)}function _(e=0){return new Promise(r=>setTimeout(r,e*1e3))}async function y(){for(;;)v(),await _(2),u.dispose(),await _(1)}return(e,r)=>(j(),C("div",{id:"sceneContainer",ref:(n,o)=>{o.sceneContainer=n,m.value=n}},null,512))}};var J=F(I,[["__scopeId","data-v-5f950e5c"]]);export{J as default};
//# sourceMappingURL=OpacityPipe.f3016ef3.js.map
