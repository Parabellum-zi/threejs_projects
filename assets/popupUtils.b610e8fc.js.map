{"version":3,"file":"popupUtils.b610e8fc.js","sources":["../../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n"],"names":["e","p","r","l"],"mappings":"oEAI4I,iBAAiB,EAAE,EAAE,EAAE,cAAc,CAAC,GAAG,CAACA,EAAE,GAAG,MAAM,GAAG,KAAM,GAAE,KAAM,GAAE,kBAAkB,EAAE,aAAa,CAAC,oBAAoB,GAAG,EAAE,CAAC,cAAc,EAAE,YAAY,EAAE,cAAc,EAAE,cAAc,GAAG,EAAE,GAAG,EAAE,SAAS,KAAK,MAAM,CAAC,KAAK,KAAM,GAAE,EAAE,KAAMC,GAAE,GAAG,GAAGC,EAAEC,EAAE,EAAE,YAAY,CAAC,GAAG,EAAE,GAAG,IAAI,MAAO,IAAGD,EAAE,KAAK,GAAGA,GAAG,GAAG,EAAE,YAAY,IAAI,IAAI,AAAKA,EAAE,QAAQ,KAAf,IAAmBA,EAAE,KAAK,GAAGA,GAAG,GAAG,EAAE,YAAY,IAAI,IAAI,AAAKA,EAAE,QAAQ,KAAf,IAAmBA,EAAE,KAAK,GAAG,GAAG,EAAE,QAAS,GAAG,CAAC,KAAK,CAAC,SAAS,GAAG,EAAEA,GAAG,GAAG,EAAE,YAAY,IAAI,IAAI,AAAKA,EAAE,QAAQ,KAAf,IAAmBA,EAAE,KAAK,KAAMA,EAAE,WAAW,EAAE,EAAE,CAAC,MAAO,GAAE,cAAc,EAAE,cAAcF,EAAE,IAAI,EAAE,6BAA6BA,EAAE,EAAE,sBAAsB,EAAE,qBAAqB"}