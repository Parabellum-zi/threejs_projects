{"version":3,"file":"request.46133c59.js","sources":["../../node_modules/@arcgis/core/core/workers/request.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../Error.js\";import{unwrap as t}from\"../maybe.js\";let r;function s(s,a){let n=a.responseType;n?\"array-buffer\"!==n&&\"blob\"!==n&&\"json\"!==n&&\"native\"!==n&&\"native-request-init\"!==n&&\"text\"!==n&&(n=\"text\"):n=\"json\",a.responseType=n;const o=t(a.signal);return delete a.signal,globalThis.invokeStaticMessage(\"request\",{url:s,options:a},{signal:o}).then((async t=>{let i,l,u,c,b;if(t.data)if(t.data instanceof ArrayBuffer){if(!(\"json\"!==n&&\"text\"!==n&&\"blob\"!==n||(i=new Blob([t.data]),\"json\"!==n&&\"text\"!==n||(r||(r=new FileReaderSync),c=r.readAsText(i),\"json\"!==n)))){try{l=JSON.parse(c||null)}catch(f){const t={...f,url:s,requestOptions:a};throw new e(\"request:server\",f.message,t)}if(l.error){const t={...l.error,url:s,requestOptions:a};throw new e(\"request:server\",l.error.message,t)}}}else\"native\"===n&&(t.data.signal=o,u=await fetch(t.data.url,t.data));switch(n){case\"blob\":b=i;break;case\"json\":b=l;break;case\"native\":b=u;break;case\"text\":b=c;break;default:b=t.data}return{data:b,requestOptions:a,ssl:t.ssl,url:s}}))}export{s as execute};\n"],"names":["t","e"],"mappings":"yeAIgE,GAAI,GAAE,WAAW,EAAE,EAAE,CAAC,GAAI,GAAE,EAAE,aAAa,EAAE,AAAiB,IAAjB,gBAAoB,AAAS,IAAT,QAAY,AAAS,IAAT,QAAY,AAAW,IAAX,UAAc,AAAwB,IAAxB,uBAA2B,AAAS,IAAT,QAAa,GAAE,QAAQ,EAAE,OAAO,EAAE,aAAa,EAAE,KAAM,GAAEA,EAAE,EAAE,QAAQ,MAAO,OAAO,GAAE,OAAO,WAAW,oBAAoB,UAAU,CAAC,IAAI,EAAE,QAAQ,GAAG,CAAC,OAAO,IAAI,KAAM,KAAM,IAAG,CAAC,GAAI,GAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,eAAgB,cAAa,GAAG,CAAE,CAAS,IAAT,QAAY,AAAS,IAAT,QAAY,AAAS,IAAT,QAAa,GAAE,GAAI,MAAK,CAAC,EAAE,OAAO,AAAS,IAAT,QAAY,AAAS,IAAT,QAAa,IAAI,GAAE,GAAI,iBAAgB,EAAE,EAAE,WAAW,GAAG,AAAS,IAAT,UAAc,CAAC,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,YAAY,EAAN,CAAS,KAAM,GAAE,OAAI,GAAJ,CAAM,IAAI,EAAE,eAAe,IAAG,KAAM,IAAIC,GAAE,iBAAiB,EAAE,QAAQ,GAAG,GAAG,EAAE,MAAM,CAAC,KAAM,GAAE,OAAI,EAAE,OAAN,CAAY,IAAI,EAAE,eAAe,IAAG,KAAM,IAAIA,GAAE,iBAAiB,EAAE,MAAM,QAAQ,SAAS,AAAW,KAAX,UAAe,GAAE,KAAK,OAAO,EAAE,EAAE,KAAM,OAAM,EAAE,KAAK,IAAI,EAAE,OAAO,OAAO,OAAO,OAAO,EAAE,EAAE,UAAU,OAAO,EAAE,EAAE,UAAU,SAAS,EAAE,EAAE,UAAU,OAAO,EAAE,EAAE,cAAc,EAAE,EAAE,KAAK,MAAM,CAAC,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,IAAI,IAAI"}